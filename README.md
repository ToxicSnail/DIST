# DIST_lab1
В этой лабораторной работе было необходимо прийти от небезопасной реализации программ по SOLID, к правильной реализации.

---
### **1) classProduct - несоблюдение принципа единственной ответственности**

---
### **2) classImageHelper - несоблюдение принципа единственной ответственности**

---
### 3) classSmtpMailer - несоблюдение принципа открытости-закрытости

---
### 4) classRepository - несоблюдение принципа открытости-закрытости
Проблема реализации - логика в иерархии AbstractEntity
Новый класс Repository не нужно менять при добавлении новых сущностей и каждая сущность имеет свой собственный репозиторий, отвечающий за сохранение. Также условные операторы больше не будут множится в методе Save и тем самым усложнять его.
Добавлена проверка типов: Теперь метод `Save()` в `AccountRepository` и `RoleRepository` проверяет тип передаваемой сущности с помощью `typeid`. Если тип не соответствует ожидаемому, выводится сообщение об ошибке, предотвращая сохранение некорректных данных. В `main()` также добавлены тестовые вызовы с несовместимыми типами для проверки корректности работы этой защиты.


---
